{% extends "projects.html" %}
{% block title %}{{ project_details.name }}{% endblock %}
{% block content %}
<button onclick="history.back()" style = "background-color: #12263A" class="btn btn-secondary mb-4">Back</button>
<button onclick="window.location.href='/edit_project/{{ project_details.id }}'" style = "background-color: #06BCC1" type="button" class="btn btn-secondary mb-4">Edit Project</button>
<button onclick="confirmDelete()" type="button" style="background-color: #F4D1AE" class="btn btn-secondary mb-4">Delete</button>
<script>
function confirmDelete() {
  if (confirm("Are you sure you want to delete this item?")) {
    window.location.href = "/delete_project/{{ project_details.id }}";
  } else {
    // do nothing lol
  }
}
</script>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
<link href="../assets/dist/css/bootstrap.min.css" rel="stylesheet">
<div class="project-grid" style="background-color: #C2D6CE">
  <div class="image-section">
    <button onclick="window.location.href='{{ project_details.image }}'" style="background-color: #F4EDEA" type="button" class="btn btn-secondary mb-4">
      <img src="{{ project_details.image }}" alt="Project Image" height="400" />
    </button>
    <br>
    <h3>Additional Images:</h3>
    {% if project_details.images == [] %}
      <p>No additional images available.</p>
    {% endif %}
    {% for image in project_details.images %}
      <button onclick="window.location.href='{{ image }}'" style="background-color: #06BCC1" type="button" class="btn btn-secondary mb-4">
        <img src="{{ image }}" alt="Additional Image" class="img-fluid" style="max-width: 200px; max-height: 200px;" />
      </button>
    {% endfor %}
  </div>
  <div class="row details-section" style="font-family: serif">
    <h1>{{ project_details.name }}</h1>
    <h2>Description: {{ project_details.description }}</h2>
    <h3>Sale Price: ${{ project_details.sale_price }}</h3>
    <h3>Materials:</h3>
    <dl>
      <dt>Material</dt>
      <dd>material description</dd>
      <dt>Material</dt>
      <dd>material description</dd>
      <dt>Material</dt>
      <dd>material description</dd>
    </dl>
  </div>
</div>
<div style="white-space: pre-wrap;"></div>
  <button type="button" class="collapsible">Notes</button>
  <div class="content">
  <p>{{ project_details.notes }}</p>
  <script>
  var coll = document.getElementsByClassName("collapsible");
  var i;
  for (i = 0; i < coll.length; i++) {
    coll[i].addEventListener("click", function() {
      this.classList.toggle("active");
      var content = this.nextElementSibling;
      if (content.style.display === "block") {
        content.style.display = "none";
      } else {
        content.style.display = "block";
      }
    });
  }
  </script>
</div>
{% endblock %}
