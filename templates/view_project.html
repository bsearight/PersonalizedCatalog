{% extends "projects.html" %}
{% block title %}{{ project_details.name }}{% endblock %}
{% block content %}
<button onclick="history.back()" style = "background-color: #12263A" class="btn btn-secondary mb-4">Back</button>
<button onclick="window.location.href='/edit_project/{{ project_details.id }}'" style = "background-color: #06BCC1" type="button" class="btn btn-secondary mb-4">Edit Project</button>
<button onclick="confirmDelete()" type="button" style="background-color: #F4D1AE" class="btn btn-secondary mb-4">Delete</button>
<script>
function confirmDelete() {
  if (confirm("Are you sure you want to delete this item?")) {
    window.location.href = "/delete_project/{{ project_details.id }}";
  } else {
    // do nothing lol
  }
}
</script>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
<link href="../assets/dist/css/bootstrap.min.css" rel="stylesheet">
<div class="project-grid" style="background-color: #C2D6CE">
  <div class="image-section">
    <img src="{{ project_details.image }}" alt="Project Image" height="400" />
  </div>
  <div class="row details-section" style="font-family: serif">
    <h1>{{ project_details.name }}</h1>
    <h2>Description: {{ project_details.description }}</h2>
    <h3>Sale Price: ${{ project_details.sale_price }}</h3>
    <h3>Notes:</h3>
    <div style="white-space: pre-wrap;">{{ project_details.notes }}</div>
    <div class="list-group" aria-current="true">
      <h3>Item:</h3>
      {% if not project_details.items %}
        <div style="white-space: pre-wrap;">No items found.</div>
      {% endif %}
      </div>
      {% for item in project_details['items'] %}
        <div class="list-group-item list-group-item-action">
          <img class="img-fluid" src="{{ item.supply.image }}" alt="Item Image" style="max-width: 200px; max-height: 200px;">
          <div class="d-flex gap-2 justify-content-between align-items-center">
            <h5 class="mb-1">{{ item.supply.name }}</h5>
            <small>{{ item.supply.item_type }}</small>
          </div>
          <div class="d-flex gap-2 justify-content-between align-items-center">
            <small>{{ item.supply.brand }}</small>
            <small>{{ item.supply.color }}</small>
          </div>
        </div>
      {% endfor %}
      <button onclick="window.location.href='/add_item?project={{ project_details.id }}'" style="background-color: #06BCC1" type="button" class="btn btn-secondary mb-4">Add Item</button>
    </div>
  </div>
</div>

{% endblock %}
