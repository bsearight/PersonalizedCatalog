{% extends "projects.html" %}
{% block title %}Search Results{% endblock %}
{% block content %}
<button onclick="history.back()" style = "background-color: #12263A" class="btn btn-secondary mb-4">Back</button>
<h1 class="text-center text-primary fw-bold">Search Results</h1>
<hr>
<div class="container">
    {% if results %}
        {% if search_type == "project" %}
            {% for result in results %}
                <div class="card shadow-sm p-3 mb-4 border">
                    <div class="card-body">
                        <h3 class="fw-bold text-primary">
                            <a href="/view_project/{{ result.id }}" class="text-decoration-none text-primary">{{ result.name }}</a>
                        </h3>
                        <p class="text-muted">{{ result.description }}</p>
                        <div class="text-center">
                            <img src="{{ result.image }}" alt="Project Image" class="img-fluid rounded" style="max-height: 200px;">
                        </div>
                    </div>
                </div>
            {% endfor %}
        {% elif search_type == "item" %}
            {% for result in results %}
                <div class="card shadow-sm p-3 mb-4 border">
                    <div class="row align-items-center">
                        <div class="col-md-3 text-center">
                            <img src="{{ result.image }}" alt="Image" class="img-fluid rounded" style="max-height: 200px;">
                        </div>
                        <div class="col-md-6">
                            <h3 class="fw-bold text-primary">
                                <a href="/view_item/{{ result.id }}" class="text-decoration-none text-primary">{{ result.name }}</a>
                            </h3>
                            <p class="text-muted mb-1">Type: {{ result.item_type }}</p>
                            <p class="text-muted mb-1">Brand: {{ result.brand }}</p>
                            <p class="text-muted">Color: {{ result.color }}</p>
                        </div>
                        <div class="col-md-3 text-center">
                            <button onclick="window.location.href='/view_item/{{ result.id }}'" style = "background-color: #EAE2B7" class="btn btn-success">üîç View Item</button>
                        </div>
                    </div>
                </div>
            {% endfor %}
        {% endif %}
    {% else %}
        <h1 class="text-center text-danger mt-4">No Results Found</h1>
    {% endif %}

    {% if error %}
        <p class="text-center text-danger mt-2">{{ error }}</p>
    {% endif %}
</div>

<!--<button onclick="history.back()" style = "background-color: #12263A" class="btn btn-secondary mb-4">Back</button>
{% if results %}
    <h1 style="font-family: serif">Search Results</h1>
    <hr>
    {% if search_type == "project" %}
        {% for result in results %}
            <div class="result">
                <a href="/view_project/{{ result.id }}" style="color: #283845; font-weight: bold;">{{ result.name }}</a>
                <p>{{ result.description }}</p>
                <img src="{{ result.image }}" alt="Image" style="max-width: 200px; max-height: 200px;">
                <hr>
            </div>
        {% endfor %}
    {% elif search_type == "item" %}
    {% for result in results %}
    <div class="result mb-4">
        <div class="row align-items-center">
            <div class="col-12 col-md-3 text-center">
                <img src="{{ result.image }}" alt="Image" class="img-fluid" style="max-height: 200px; width: auto; object-fit: contain;">
            </div>
            <div class="col-12 col-md-6">
                <h3 style="color: #16425B; font-weight: bold;"><a href="/view_item/{{ result.id }}" style="color: #16425B;">{{ result.name }}</a></h3>
                <p>Type: {{ result.item_type }}</p>
                <p>Brand: {{ result.brand }}</p>
                <p>Color: {{ result.color }}</p>
            </div>
            <div class="col-12 col-md-3 d-flex align-items-center justify-content-center">
                <button onclick="window.location.href='/view_item/{{ result.id }}'" style="background-color: #06BCC1" class="btn btn-secondary">View Item</button>
            </div>
        </div>
        <hr>
    </div>
{% endfor %}
    {% endif %}
{% else %}
    <h1>No Results Found</h1>
{% endif %}
{% if error %}
    <p style="color: #80A4ED;">{{ error }}</p>
{% endif %}-->
{% endblock %}
