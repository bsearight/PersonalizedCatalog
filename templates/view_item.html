{% extends "projects.html" %}
{% block title %}{{ item_details.name }}{% endblock %}
{% block content %}
<button onclick="history.back()" style = "background-color: #12263A" class="btn btn-secondary mb-4">Back</button>
<button onclick="window.location.href='/edit_item/{{ item_details.id }}'" type="button" style="background-color: #06BCC1" class="btn btn-secondary mb-4">Edit Item</button>
<button onclick="confirmDelete()" type="button" style="background-color: #F4D1AE" class="btn btn-secondary mb-4">Delete</button>
<script>
function confirmDelete() {
  if (confirm("Are you sure you want to delete this item?")) {
    window.location.href = "/delete_item/{{ item_details.id }}";
  } else {
    // do nothing lol
  }
}
</script>

<div class = item-grid>
  <div class = "image-section">
  <img src="{{ item_details.image }}" alt="{{ item_details.image }}" height="400"/>
  </div>
  <div class = "row details-section" style="font-family: serif">
    <h1>{{ item_details.name }}</h1>
    <h2>Description: {{ item_details.description }}</h2>
    <h3>Brand: {{ item_details.brand }}</h3>
    <h3>Item Type: {{ item_details.item_type }}</h3>
    <h3>Color: {{ item_details.color }}</h3>
    <h3>Purchase Link: <a href="{{ item_details.purchase_link }}">{{ item_details.purchase_link }}</a></h3>
    <h3>Cost: ${{ item_details.cost }}</h3>
    <h3>Rating: {{ item_details.rating }}</h3>
    <div class = "rating">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    {% for i in range(1, 6) %}
        <span class="fa fa-star {% if i <= item_details.rating %}checked{% endif %}"></span>
    {% endfor %}
    </div>
  </div>
</div>
<h3>Notes:</h3>
    <div style="white-space: pre-wrap;">{{ item_details.notes }}</div>
    <button type="button" class="collapsible">Notes</button>
    <div class="content">
  <p>Lorem ipsum...</p>
  <script>
  var coll = document.getElementsByClassName("collapsible");
  var i;
  for (i = 0; i < coll.length; i++) {
    coll[i].addEventListener("click", function() {
      this.classList.toggle("active");
      var content = this.nextElementSibling;
      if (content.style.display === "block") {
        content.style.display = "none";
      } else {
        content.style.display = "block";
      }
    });
  }
  </script>
</div>
{% endblock %}
